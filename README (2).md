# SCORM Test Constructor

–í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è, —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ —ç–∫—Å–ø–æ—Ä—Ç–∞ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤ –≤ —Ñ–æ—Ä–º–∞—Ç–µ SCORM 2004. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –∏ –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏](#-–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏)
- [–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏](#-—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏)
- [–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è](#-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)
- [–£—Å—Ç–∞–Ω–æ–≤–∫–∞](#-—É—Å—Ç–∞–Ω–æ–≤–∫–∞)
- [–ó–∞–ø—É—Å–∫](#-–∑–∞–ø—É—Å–∫)
- [–î–µ–ø–ª–æ–π –≤ –ø—Ä–æ–¥–∞–∫—à–Ω](#-–¥–µ–ø–ª–æ–π-–≤-–ø—Ä–æ–¥–∞–∫—à–Ω)
- [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞](#-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞)
- [API Reference](#-api-reference)
- [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](#-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
- [–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è](#-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)

---

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –î–ª—è –∞–≤—Ç–æ—Ä–æ–≤ (Author role)
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–º–∞–º–∏** ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ —Ç–µ–º —Å –∏–µ—Ä–∞—Ä—Ö–∏–µ–π –ø–∞–ø–æ–∫
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–æ–ø—Ä–æ—Å–∞–º–∏** ‚Äî 4 —Ç–∏–ø–∞ –≤–æ–ø—Ä–æ—Å–æ–≤ —Å –º–µ–¥–∏–∞-–≤–ª–æ–∂–µ–Ω–∏—è–º–∏:
  - Single choice (–æ–¥–∏–Ω –æ—Ç–≤–µ—Ç)
  - Multiple choice (–Ω–µ—Å–∫–æ–ª—å–∫–æ –æ—Ç–≤–µ—Ç–æ–≤)
  - Matching (—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ)
  - Ranking (—Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ)
- **–°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤** ‚Äî –¥–≤–∞ —Ä–µ–∂–∏–º–∞:
  - –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π (—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –Ω–∞–±–æ—Ä –≤–æ–ø—Ä–æ—Å–æ–≤)
  - –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å)
- **SCORM —ç–∫—Å–ø–æ—Ä—Ç** ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–∞–∫–µ—Ç–æ–≤ SCORM 2004 –¥–ª—è LMS
- **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞** ‚Äî —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Ç–µ—Å—Ç–∞–º, —Ç–µ–º–∞–º, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º
- **–ò–º–ø–æ—Ä—Ç/–≠–∫—Å–ø–æ—Ä—Ç** ‚Äî Excel –¥–ª—è –º–∞—Å—Å–æ–≤–æ–π —Ä–∞–±–æ—Ç—ã —Å –≤–æ–ø—Ä–æ—Å–∞–º–∏

### –î–ª—è —É—á–µ–Ω–∏–∫–æ–≤ (Learner role)
- –ü—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤ —Å —Ç–∞–π–º–µ—Ä–æ–º
- –ê–¥–∞–ø—Ç–∏–≤–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º —É—Ä–æ–≤–Ω–µ–º —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
- –ò—Å—Ç–æ—Ä–∏—è –ø–æ–ø—ã—Ç–æ–∫ —Å –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–µ–π
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –æ–±—É—á–µ–Ω–∏—é –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### SCORM –ø–∞–∫–µ—Ç—ã
- –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å SCORM 2004
- –¢–µ–ª–µ–º–µ—Ç—Ä–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –æ–±—Ä–∞—Ç–Ω–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- –†–∞–±–æ—Ç–∞ –æ—Ñ—Ñ–ª–∞–π–Ω –≤ LMS
- PDF-—ç–∫—Å–ø–æ—Ä—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–µ–¥–∏–∞-—Ñ–∞–π–ª–æ–≤

---

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

### Frontend
- **React 18** ‚Äî UI –±–∏–±–ª–∏–æ—Ç–µ–∫–∞
- **TypeScript** ‚Äî —Ç–∏–ø–∏–∑–∞—Ü–∏—è
- **Tailwind CSS** ‚Äî —Å—Ç–∏–ª–∏–∑–∞—Ü–∏—è
- **shadcn/ui** ‚Äî –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞
- **TanStack Query** ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º —Å–µ—Ä–≤–µ—Ä–∞
- **Wouter** ‚Äî —Ä–æ—É—Ç–∏–Ω–≥
- **React Hook Form + Zod** ‚Äî —Ñ–æ—Ä–º—ã –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è

### Backend
- **Express.js** ‚Äî –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- **PostgreSQL** ‚Äî –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **Drizzle ORM** ‚Äî —Ä–∞–±–æ—Ç–∞ —Å –ë–î
- **Passport.js** ‚Äî –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- **Multer** ‚Äî –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤
- **Archiver** ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ ZIP

### –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
- **Vite** ‚Äî —Å–±–æ—Ä–∫–∞ –∏ dev server
- **ESBuild** ‚Äî production —Å–±–æ—Ä–∫–∞
- **tsx** ‚Äî –∑–∞–ø—É—Å–∫ TypeScript

---

## üì¶ –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **Node.js** >= 18.0.0
- **PostgreSQL** >= 14.0
- **npm** >= 8.0.0

---

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
git clone <repository-url>
cd Fullstack-MVP-testing
```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
npm install
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–°–æ–∑–¥–∞–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö PostgreSQL:

```sql
CREATE DATABASE scorm_db;
```

### 4. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```env
# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
DATABASE_URL=postgresql://postgres:your_password@localhost:5432/scorm_db

# –°–µ—Ä–≤–µ—Ä
PORT=5001
NODE_ENV=development

# API (–¥–ª—è SCORM —Ç–µ–ª–µ–º–µ—Ç—Ä–∏–∏)
API_BASE_URL=http://localhost:5001

# –°–µ—Å—Å–∏–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
SESSION_SECRET=your-secret-key-here
```

### 5. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ë–î

```bash
npm run db:push
```

–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –¥–µ–º–æ-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏:
- **admin** / admin123 (role: author)
- **learner** / learner123 (role: learner)

---

## ‚ñ∂Ô∏è –ó–∞–ø—É—Å–∫

### Development —Ä–µ–∂–∏–º

```bash
npm run dev
```

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É: `http://localhost:5001`

### Production —Å–±–æ—Ä–∫–∞

```bash
npm run build
npm start
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤

```bash
npm run check
```

---

## üåê –î–µ–ø–ª–æ–π –≤ –ø—Ä–æ–¥–∞–∫—à–Ω

### –í–∞—Ä–∏–∞–Ω—Ç 1: –¢—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä (VPS/Dedicated)

#### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Node.js 18+
curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash -
sudo apt-get install -y nodejs

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ PostgreSQL
sudo apt-get install -y postgresql postgresql-contrib

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ PM2 (–º–µ–Ω–µ–¥–∂–µ—Ä –ø—Ä–æ—Ü–µ—Å—Å–æ–≤)
sudo npm install -g pm2
```

#### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ PostgreSQL

```bash
sudo -u postgres psql

CREATE USER scorm_user WITH PASSWORD 'secure_password';
CREATE DATABASE scorm_db OWNER scorm_user;
GRANT ALL PRIVILEGES ON DATABASE scorm_db TO scorm_user;
\q
```

#### 3. –î–µ–ø–ª–æ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
git clone <repository-url> /var/www/scorm-app
cd /var/www/scorm-app

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
npm ci --production

# –°–±–æ—Ä–∫–∞
npm run build

# –°–æ–∑–¥–∞–Ω–∏–µ .env
cat > .env << EOF
DATABASE_URL=postgresql://scorm_user:secure_password@localhost:5432/scorm_db
PORT=5001
NODE_ENV=production
API_BASE_URL=https://your-domain.com
SESSION_SECRET=$(openssl rand -hex 32)
EOF

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ë–î
npm run db:push

# –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ PM2
pm2 start dist/index.cjs --name scorm-app
pm2 save
pm2 startup
```

#### 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Nginx (reverse proxy)

```nginx
# /etc/nginx/sites-available/scorm-app
server {
    listen 80;
    server_name your-domain.com;

    # –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ HTTPS
    return 301 https://$server_name$request_uri;
}

server {
    listen 443 ssl http2;
    server_name your-domain.com;

    ssl_certificate /etc/letsencrypt/live/your-domain.com/fullchain.pem;
    ssl_certificate_key /etc/letsencrypt/live/your-domain.com/privkey.pem;

    # –†–∞–∑–º–µ—Ä –∑–∞–≥—Ä—É–∂–∞–µ–º—ã—Ö —Ñ–∞–π–ª–æ–≤
    client_max_body_size 200M;

    location / {
        proxy_pass http://127.0.0.1:5001;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_cache_bypass $http_upgrade;
    }

    # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã –º–µ–¥–∏–∞
    location /uploads {
        alias /var/www/scorm-app/uploads;
        expires 30d;
        add_header Cache-Control "public, immutable";
    }
}
```

```bash
sudo ln -s /etc/nginx/sites-available/scorm-app /etc/nginx/sites-enabled/
sudo nginx -t
sudo systemctl reload nginx
```

#### 5. SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç (Let's Encrypt)

```bash
sudo apt-get install certbot python3-certbot-nginx
sudo certbot --nginx -d your-domain.com
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: Docker

#### Dockerfile

```dockerfile
FROM node:18-alpine AS builder
WORKDIR /app
COPY package*.json ./
RUN npm ci
COPY . .
RUN npm run build

FROM node:18-alpine AS runner
WORKDIR /app
ENV NODE_ENV=production
COPY --from=builder /app/dist ./dist
COPY --from=builder /app/package*.json ./
RUN npm ci --production
EXPOSE 5001
CMD ["node", "dist/index.cjs"]
```

#### docker-compose.yml

```yaml
version: '3.8'

services:
  app:
    build: .
    ports:
      - "5001:5001"
    environment:
      - DATABASE_URL=postgresql://postgres:password@db:5432/scorm_db
      - NODE_ENV=production
      - PORT=5001
      - API_BASE_URL=https://your-domain.com
      - SESSION_SECRET=your-secret
    depends_on:
      - db
    volumes:
      - uploads:/app/uploads

  db:
    image: postgres:14-alpine
    environment:
      - POSTGRES_USER=postgres
      - POSTGRES_PASSWORD=password
      - POSTGRES_DB=scorm_db
    volumes:
      - pgdata:/var/lib/postgresql/data

volumes:
  pgdata:
  uploads:
```

```bash
docker-compose up -d
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: Cloud –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã

#### Railway

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Railway CLI
npm install -g @railway/cli

# –õ–æ–≥–∏–Ω –∏ –¥–µ–ø–ª–æ–π
railway login
railway init
railway add postgresql
railway up
```

#### Render

1. –°–æ–∑–¥–∞–π—Ç–µ Web Service –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
2. Build Command: `npm install && npm run build`
3. Start Command: `npm start`
4. –î–æ–±–∞–≤—å—Ç–µ PostgreSQL addon
5. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Environment Variables

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
‚îú‚îÄ‚îÄ client/                    # Frontend (React)
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/        # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ui/            # shadcn/ui –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...            # –ö–∞—Å—Ç–æ–º–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ hooks/             # React —Ö—É–∫–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ lib/               # –£—Ç–∏–ª–∏—Ç—ã (auth, i18n, queryClient)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pages/             # –°—Ç—Ä–∞–Ω–∏—Ü—ã
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ author/        # –ü–∞–Ω–µ–ª—å –∞–≤—Ç–æ—Ä–∞
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ learner/       # –ü–∞–Ω–µ–ª—å —É—á–µ–Ω–∏–∫–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ App.tsx            # –ì–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ main.tsx           # Entry point
‚îÇ   ‚îî‚îÄ‚îÄ index.html
‚îÇ
‚îú‚îÄ‚îÄ server/                    # Backend (Express)
‚îÇ   ‚îú‚îÄ‚îÄ scorm/                 # SCORM –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ assets/            # –°—Ç–∞—Ç–∏–∫–∞ –¥–ª—è –ø–∞–∫–µ—Ç–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ builders/          # –°–±–æ—Ä—â–∏–∫–∏ (manifest, test-json)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ template/          # JS –ª–æ–≥–∏–∫–∞ –¥–ª—è SCORM
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ app/           # –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ SCORM-–ø–∞–∫–µ—Ç–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.ts           # –ì–ª–∞–≤–Ω—ã–π —ç–∫—Å–ø–æ—Ä—Ç
‚îÇ   ‚îú‚îÄ‚îÄ db.ts                  # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
‚îÇ   ‚îú‚îÄ‚îÄ index.ts               # Entry point —Å–µ—Ä–≤–µ—Ä–∞
‚îÇ   ‚îú‚îÄ‚îÄ routes.ts              # API endpoints
‚îÇ   ‚îú‚îÄ‚îÄ storage.ts             # Data access layer
‚îÇ   ‚îî‚îÄ‚îÄ vite.ts                # Vite dev middleware
‚îÇ
‚îú‚îÄ‚îÄ shared/                    # –û–±—â–∏–π –∫–æ–¥
‚îÇ   ‚îî‚îÄ‚îÄ schema.ts              # –°—Ö–µ–º–∞ –ë–î –∏ —Ç–∏–ø—ã
‚îÇ
‚îú‚îÄ‚îÄ uploads/                   # –ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –º–µ–¥–∏–∞
‚îÇ   ‚îî‚îÄ‚îÄ media/
‚îÇ
‚îú‚îÄ‚îÄ .env                       # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç—å!)
‚îú‚îÄ‚îÄ drizzle.config.ts          # –ö–æ–Ω—Ñ–∏–≥ Drizzle
‚îú‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ tsconfig.json
‚îú‚îÄ‚îÄ tailwind.config.ts
‚îî‚îÄ‚îÄ vite.config.ts
```

---

## üì° API Reference

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

| –ú–µ—Ç–æ–¥ | Endpoint | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|----------|
| POST | `/api/auth/login` | –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É |
| POST | `/api/auth/logout` | –í—ã—Ö–æ–¥ |
| GET | `/api/auth/me` | –¢–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å |

### –¢–µ–º—ã (—Ç—Ä–µ–±—É–µ—Ç—Å—è author role)

| –ú–µ—Ç–æ–¥ | Endpoint | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|----------|
| GET | `/api/topics` | –°–ø–∏—Å–æ–∫ —Ç–µ–º |
| POST | `/api/topics` | –°–æ–∑–¥–∞—Ç—å —Ç–µ–º—É |
| PUT | `/api/topics/:id` | –û–±–Ω–æ–≤–∏—Ç—å —Ç–µ–º—É |
| DELETE | `/api/topics/:id` | –£–¥–∞–ª–∏—Ç—å —Ç–µ–º—É |
| POST | `/api/topics/:id/duplicate` | –î—É–±–ª–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–º—É |
| POST | `/api/topics/bulk-delete` | –ú–∞—Å—Å–æ–≤–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ |

### –í–æ–ø—Ä–æ—Å—ã

| –ú–µ—Ç–æ–¥ | Endpoint | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|----------|
| GET | `/api/questions` | –°–ø–∏—Å–æ–∫ –≤–æ–ø—Ä–æ—Å–æ–≤ |
| POST | `/api/questions` | –°–æ–∑–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å |
| PUT | `/api/questions/:id` | –û–±–Ω–æ–≤–∏—Ç—å –≤–æ–ø—Ä–æ—Å |
| DELETE | `/api/questions/:id` | –£–¥–∞–ª–∏—Ç—å –≤–æ–ø—Ä–æ—Å |
| POST | `/api/questions/:id/duplicate` | –î—É–±–ª–∏—Ä–æ–≤–∞—Ç—å |
| GET | `/api/questions/export` | –≠–∫—Å–ø–æ—Ä—Ç –≤ Excel |
| POST | `/api/questions/import` | –ò–º–ø–æ—Ä—Ç –∏–∑ Excel |

### –¢–µ—Å—Ç—ã

| –ú–µ—Ç–æ–¥ | Endpoint | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|----------|
| GET | `/api/tests` | –°–ø–∏—Å–æ–∫ —Ç–µ—Å—Ç–æ–≤ |
| POST | `/api/tests` | –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç |
| PUT | `/api/tests/:id` | –û–±–Ω–æ–≤–∏—Ç—å —Ç–µ—Å—Ç |
| DELETE | `/api/tests/:id` | –£–¥–∞–ª–∏—Ç—å —Ç–µ—Å—Ç |
| GET | `/api/tests/:id/scorm` | –≠–∫—Å–ø–æ—Ä—Ç SCORM |
| PUT | `/api/tests/:id/publish` | –ü—É–±–ª–∏–∫–∞—Ü–∏—è |

### –ü–æ–ø—ã—Ç–∫–∏ (Learner)

| –ú–µ—Ç–æ–¥ | Endpoint | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|----------|
| GET | `/api/learner/tests` | –î–æ—Å—Ç—É–ø–Ω—ã–µ —Ç–µ—Å—Ç—ã |
| POST | `/api/tests/:id/attempts` | –ù–∞—á–∞—Ç—å —Ç–µ—Å—Ç |
| POST | `/api/attempts/:id/submit` | –ó–∞–≤–µ—Ä—à–∏—Ç—å —Ç–µ—Å—Ç |
| GET | `/api/attempts/:id` | –†–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–ø—ã—Ç–∫–∏ |
| GET | `/api/attempts` | –ò—Å—Ç–æ—Ä–∏—è –ø–æ–ø—ã—Ç–æ–∫ |

### –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ (Author)

| –ú–µ—Ç–æ–¥ | Endpoint | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|----------|
| GET | `/api/analytics/combined` | –û–±—â–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ |
| GET | `/api/analytics/tests/:id` | –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ —Ç–µ—Å—Ç–∞ |
| GET | `/api/analytics/tests/:id/attempts` | –ü–æ–ø—ã—Ç–∫–∏ —Ç–µ—Å—Ç–∞ |

---

## üèó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ü–æ—Ç–æ–∫–∏ –¥–∞–Ω–Ω—ã—Ö

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                      Browser (React SPA)                     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚îÇ
                            ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                      Express Server                           ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ  ‚îÇ   Routes    ‚îÇ  ‚îÇ   Storage   ‚îÇ  ‚îÇ   SCORM Builder     ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  (REST API) ‚îÇ  ‚îÇ   (DAL)     ‚îÇ  ‚îÇ   (ZIP Generator)   ‚îÇ   ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
          ‚îÇ                ‚îÇ                     ‚îÇ
          ‚ñº                ‚ñº                     ‚ñº
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ Sessions ‚îÇ    ‚îÇPostgreSQL‚îÇ         ‚îÇ ZIP Download ‚îÇ
    ‚îÇ (Memory) ‚îÇ    ‚îÇ (Drizzle)‚îÇ         ‚îÇ              ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö

```
users
  ‚îî‚îÄ‚îÄ attempts (1:N)

folders
  ‚îî‚îÄ‚îÄ topics (1:N)
        ‚îî‚îÄ‚îÄ questions (1:N)
        ‚îî‚îÄ‚îÄ topic_courses (1:N)

tests
  ‚îî‚îÄ‚îÄ test_sections (1:N)
        ‚îî‚îÄ‚îÄ references ‚Üí topics
  ‚îî‚îÄ‚îÄ adaptive_topic_settings (1:N) [adaptive mode]
        ‚îî‚îÄ‚îÄ adaptive_levels (1:N)
              ‚îî‚îÄ‚îÄ adaptive_level_links (1:N)

scorm_packages
  ‚îî‚îÄ‚îÄ scorm_attempts (1:N)
        ‚îî‚îÄ‚îÄ scorm_answers (1:N)
```

---

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### Environment Variables

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞ | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ |
|------------|-------------|--------------|----------|
| `DATABASE_URL` | ‚úÖ | - | PostgreSQL connection string |
| `PORT` | ‚ùå | 5000 | –ü–æ—Ä—Ç —Å–µ—Ä–≤–µ—Ä–∞ |
| `NODE_ENV` | ‚ùå | development | –†–µ–∂–∏–º (development/production) |
| `API_BASE_URL` | ‚ùå | http://localhost:PORT | URL –¥–ª—è SCORM —Ç–µ–ª–µ–º–µ—Ç—Ä–∏–∏ |
| `SESSION_SECRET` | ‚ùå | auto | –°–µ–∫—Ä–µ—Ç –¥–ª—è —Å–µ—Å—Å–∏–π |

### –õ–∏–º–∏—Ç—ã

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ | –ì–¥–µ –∏–∑–º–µ–Ω–∏—Ç—å |
|----------|----------|--------------|
| –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ | 200 MB | `server/routes.ts` (mediaUpload) |
| –í—Ä–µ–º—è —Å–µ—Å—Å–∏–∏ | 24 —á–∞—Å–∞ | `server/routes.ts` (session cookie) |
| Body limit | 50 MB | `server/index.ts` (express.json) |

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω

1. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å HTTPS** ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è cookies –∏ –¥–∞–Ω–Ω—ã—Ö
2. **–ò–∑–º–µ–Ω–∏—Ç—å SESSION_SECRET** ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏ —Å—Ç–æ–π–∫–∏–π –∫–ª—é—á
3. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å CORS** ‚Äî –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å —Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã–µ origins
4. **Rate limiting** ‚Äî –∑–∞—â–∏—Ç–∞ –æ—Ç DDoS
5. **–†–µ–≥—É–ª—è—Ä–Ω—ã–µ –±—ç–∫–∞–ø—ã –ë–î** ‚Äî pg_dump –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é
6. **–û–±–Ω–æ–≤–ª—è—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏** ‚Äî `npm audit fix`

---

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License

---

## ü§ù –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º —Å–æ–∑–¥–∞–π—Ç–µ Issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏.
