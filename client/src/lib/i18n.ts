export const t = {
  common: {
    loading: "Загрузка...",
    error: "Ошибка",
    cancel: "Отмена",
    create: "Создать",
    update: "Обновить",
    delete: "Удалить",
    edit: "Редактировать",
    save: "Сохранить",
    next: "Далее",
    back: "Назад",
    yes: "Да",
    no: "Нет",
    all: "Все",
    none: "Нет",
    points: "балл",
    pointsPlural: "баллов",
    questions: "вопросов",
    question: "вопрос",
    courses: "курсов",
    course: "курс",
    topics: "темы",
    topic: "тема",
    version: "версия",
    passed: "Пройден",
    failed: "Не пройден",
    view: "Просмотр",
    min: "мин",
    appearances: "появлений",
    avg: "средн.",
    failures: "ошибок",
    noTopicFailures: "Ошибок по темам не зафиксировано",
    testDetails: "Детали тестов",
    test: "Тест",
    noTestsAvailable: "Тесты отсутствуют",
    failedToLoadAnalytics: "Не удалось загрузить данные аналитики.",
    preparingTest: "Подготовка теста...",
    failedToStartTest: "Не удалось начать тест. Попробуйте ещё раз.",
    failedToSubmitTest: "Не удалось отправить тест. Попробуйте ещё раз.",
    answeredOf: "Отвечено на",
    questionsWord: "вопросов",
    resultsNotFound: "Результаты не найдены",
    couldNotFindResults: "Не удалось найти результаты для этой попытки.",
    congratulations: "Поздравляем!",
    keepLearning: "Продолжайте учиться!",
    passedMessage: "Вы успешно прошли тест.",
    failedMessage: "В этот раз не получилось, но вы можете попробовать снова.",
    questionsLabel: "Вопросов",
    pointsLabel: "Баллов",
    required: "Требуется:",
    correct: "правильных",
    retakeTest: "Пройти заново",
    matchInstruction: "Сопоставьте элементы слева с элементами справа.",
    select: "Выберите...",
    rankInstruction: "Расположите элементы в правильном порядке.",
    unknownQuestionType: "Неизвестный тип вопроса",
    imageAttached: "Прикреплено изображение",
    audioAttached: "Прикреплено аудио",
    videoAttached: "Прикреплено видео",
    minZero: "Должно быть не менее 0",
  },

  sidebar: {
    authorPanel: "Панель автора",
    learnerPanel: "Панель ученика",
  },

  auth: {
    appName: "Конструктор SCORM-тестов",
    signIn: "Вход",
    signInDescription: "Введите ваши данные для входа в систему",
    username: "Имя пользователя",
    usernamePlaceholder: "Введите имя пользователя",
    password: "Пароль",
    passwordPlaceholder: "Введите пароль",
    signInButton: "Войти",
    welcomeBack: "С возвращением!",
    loginSuccess: "Вы успешно вошли в систему.",
    loginFailed: "Ошибка входа",
    invalidCredentials: "Неверное имя пользователя или пароль.",
    somethingWentWrong: "Что-то пошло не так. Попробуйте ещё раз.",
    demoAccounts: "Демо-аккаунты:",
    author: "Автор",
    learner: "Ученик",
  },

  navigation: {
    topics: "Темы",
    questions: "Вопросы",
    tests: "Тесты",
    analytics: "Аналитика",
    history: "История",
    logout: "Выход",
    testCenter: "Центр тестирования",
  },

  folders: {
    title: "Папки",
    createFolder: "Создать папку",
    editFolder: "Редактировать папку",
    folderName: "Название папки",
    folderNamePlaceholder: "Напр.: Сетевые технологии",
    parentFolder: "Родительская папка",
    noParent: "Без родительской папки (корень)",
    folderCreated: "Папка создана",
    folderCreatedDescription: "Папка успешно создана.",
    folderUpdated: "Папка обновлена",
    folderUpdatedDescription: "Папка успешно обновлена.",
    folderDeleted: "Папка удалена",
    folderDeletedDescription: "Папка удалена. Темы перемещены в корень.",
    confirmDelete: "Удалить эту папку? Темы будут перемещены в корень.",
    failedToCreate: "Не удалось создать папку.",
    failedToUpdate: "Не удалось обновить папку.",
    failedToDelete: "Не удалось удалить папку.",
    moveToFolder: "Переместить в папку",
    root: "Корень",
  },
  topics: {
    title: "Темы",
    description: "Организуйте вопросы по темам и добавляйте рекомендуемые курсы.",
    createTopic: "Создать тему",
    editTopic: "Редактировать тему",
    noTopics: "Тем пока нет",
    noTopicsDescription: "Создайте первую тему, чтобы начать организовывать вопросы.",
    topicName: "Название",
    topicNamePlaceholder: "Напр.: IPTV, WiFi, Сетевые технологии",
    topicDescription: "Описание",
    topicDescriptionPlaceholder: "Опишите, что охватывает эта тема...",
    folder: "Папка",
    selectFolder: "Выберите папку",
    noFolder: "Без папки",
    recommendedCourses: "Рекомендуемые курсы",
    addCourse: "Добавить курс",
    addRecommendedCourse: "Добавить рекомендуемый курс",
    courseTitle: "Название курса",
    courseTitlePlaceholder: "Напр.: Основы IPTV",
    courseUrl: "URL курса",
    courseUrlPlaceholder: "https://...",
    topicCreated: "Тема создана",
    topicCreatedDescription: "Тема успешно создана.",
    topicUpdated: "Тема обновлена",
    topicUpdatedDescription: "Тема успешно обновлена.",
    topicDeleted: "Тема удалена",
    topicDeletedDescription: "Тема успешно удалена.",
    topicsDeleted: "Темы удалены",
    topicsDeletedDescription: (count: number) => `Успешно удалено ${count} тем(ы).`,
    confirmBulkDelete: "Удалить выбранные темы?",
    confirmBulkDeleteDescription: (count: number) => `Вы уверены, что хотите удалить ${count} выбранных тем(ы)? Все вопросы и курсы этих тем также будут удалены.`,
    failedToDeleteTopics: "Не удалось удалить темы.",
    selectAll: "Выбрать все",
    deselectAll: "Снять выделение",
    deleteSelected: "Удалить выбранные",
    courseAdded: "Курс добавлен",
    courseAddedDescription: "Рекомендуемый курс добавлен.",
    courseRemoved: "Курс удалён",
    courseRemovedDescription: "Рекомендуемый курс удалён.",
    confirmDelete: "Вы уверены, что хотите удалить эту тему? Все вопросы темы также будут удалены.",
    failedToCreate: "Не удалось создать тему.",
    failedToUpdate: "Не удалось обновить тему.",
    failedToDelete: "Не удалось удалить тему.",
    failedToAddCourse: "Не удалось добавить курс.",
    failedToRemoveCourse: "Не удалось удалить курс.",
    nameRequired: "Название обязательно",
    titleRequired: "Название обязательно",
    validUrl: "Должен быть корректный URL",
    duplicate: "Дублировать",
    duplicated: "Дублировано",
    duplicatedDescription: "Тема и все вопросы успешно дублированы.",
    failedToDuplicate: "Не удалось дублировать тему.",
    feedback: "Обратная связь",
    feedbackPlaceholder: "Комментарий к теме (показывается в результатах)",
  },

  questions: {
    title: "Вопросы",
    description: "Создавайте и управляйте вопросами для ваших тестов.",
    createQuestion: "Создать вопрос",
    editQuestion: "Редактировать вопрос",
    noQuestions: "Вопросов пока нет",
    noQuestionsDescription: "Создайте первый вопрос для вашего банка вопросов.",
    loadingQuestions: "Загрузка вопросов...",
    topic: "Тема",
    selectTopic: "Выберите тему",
    type: "Тип",
    questionType: "Тип вопроса",
    selectType: "Выберите тип",
    allTopics: "Все темы",
    allTypes: "Все типы",
    questionText: "Текст вопроса",
    questionTextPlaceholder: "Введите ваш вопрос...",
    points: "Баллы",
    mediaOptional: "Медиа (опционально)",
    mediaUrl: "URL медиа",
    mediaUrlPlaceholder: "https://example.com/image.jpg",
    mediaType: "Тип медиа",
    image: "Изображение",
    audio: "Аудио",
    video: "Видео",
    singleChoice: "Один ответ",
    multipleChoice: "Несколько ответов",
    matching: "Соответствие",
    ranking: "Ранжирование",
    optionPlaceholder: "Вариант ответа",
    addOption: "Добавить вариант",
    removeOption: "Удалить вариант",
    correctAnswer: "Правильный ответ",
    correctAnswers: "Правильные ответы",
    leftItems: "Левая колонка",
    rightItems: "Правая колонка",
    addPair: "Добавить пару",
    itemsToRank: "Элементы для ранжирования",
    orderItems: "Расположите в правильном порядке",
    difficulty: "Сложность",
    difficultyHint: "0 — очень легко, 100 — очень сложно",
    allDifficulties: "Все уровни",
    difficultyEasy: "Лёгкие (0-33)",
    difficultyMedium: "Средние (34-66)",
    difficultyHard: "Сложные (67-100)",
    questionCreated: "Вопрос создан",
    questionCreatedDescription: "Вопрос успешно создан.",
    questionUpdated: "Вопрос обновлён",
    questionUpdatedDescription: "Вопрос успешно обновлён.",
    questionDeleted: "Вопрос удалён",
    questionDeletedDescription: "Вопрос успешно удалён.",
    confirmDelete: "Вы уверены, что хотите удалить этот вопрос?",
    failedToCreate: "Не удалось создать вопрос.",
    failedToUpdate: "Не удалось обновить вопрос.",
    failedToDelete: "Не удалось удалить вопрос.",
    topicRequired: "Тема обязательна",
    textRequired: "Текст вопроса обязателен",
    minPoints: "Баллы должны быть не менее 1",
    browserNotSupported: "Ваш браузер не поддерживает этот элемент.",
    shuffleAnswers: "Перемешивать варианты ответов",
    shuffleAnswersHint: "Варианты будут показаны в случайном порядке",
    duplicate: "Дублировать",
    duplicated: "Дублировано",
    duplicatedDescription: "Вопрос успешно дублирован.",
    failedToDuplicate: "Не удалось дублировать вопрос.",
    importQuestions: "Импорт вопросов",
    exportQuestions: "Экспорт вопросов",
    import: "Импорт",
    export: "Экспорт",
    selectFile: "Выберите файл",
    uploadFile: "Загрузить файл",
    importSuccess: "Импорт завершён",
    importedCount: "Импортировано вопросов:",
    importErrors: "Ошибки при импорте:",
    failedToImport: "Не удалось импортировать вопросы.",
    downloadTemplate: "Скачать шаблон",
    feedback: "Обратная связь",
    feedbackPlaceholder: "Комментарий к вопросу (показывается после ответа)",
    feedbackHint: "Текст показывается после ответа на вопрос в SCORM",
    feedbackModeGeneral: "Общая",
    feedbackModeConditional: "Условная",
    feedbackCorrect: "При правильном ответе",
    feedbackIncorrect: "При неправильном ответе",
    feedbackCorrectPlaceholder: "Сообщение при правильном ответе",
    feedbackIncorrectPlaceholder: "Сообщение при неправильном ответе",
    feedbackConditionalHint: "Разные сообщения показываются в зависимости от правильности ответа",
    selectAll: "Выбрать все",
    deselectAll: "Снять выделение",
    deleteSelected: "Удалить выбранные",
    confirmBulkDelete: "Удалить выбранные вопросы:",
    questionsDeleted: "Вопросы удалены",
    deletedCount: "Удалено:",
    bulkDeleted: "Вопросы удалены",
    bulkDeletedDescription: "Выбранные вопросы успешно удалены.",
    failedToBulkDelete: "Не удалось удалить выбранные вопросы.",
    selected: "выбрано",
  },

  tests: {
    title: "Тесты",
    description: "Создавайте тесты из тем с настраиваемыми критериями и экспортом в SCORM.",
    createTest: "Создать тест",
    editTest: "Редактировать тест",
    noTests: "Тестов пока нет",
    noTestsDescription: "Создайте первый тест для проверки знаний.",
    loadingTests: "Загрузка тестов...",
    step: "Шаг",
    of: "из",
    selectTopics: "Выберите темы",
    selectTopicsDescription: "Выберите темы для включения в этот тест.",
    noTopicsAvailable: "Нет доступных тем. Сначала создайте темы.",
    configureSections: "Настройка разделов",
    configureSectionsDescription: "Установите количество вопросов для каждой темы и правила прохождения.",
    questionsToDrawPrefix: "Вопросов для выбора",
    topicPassRule: "Правило прохождения темы",
    passType: "Тип",
    percentage: "Процент",
    absolute: "Абсолютное",
    minimumPercent: "Минимум %",
    minimumCorrect: "Минимум правильных (из",
    testDetails: "Детали теста и критерии",
    testTitle: "Название теста",
    testTitlePlaceholder: "Напр.: Тест по сетевым основам",
    testDescription: "Описание (опционально)",
    testDescriptionPlaceholder: "Опишите тест...",
    overallPassCriteria: "Общие критерии прохождения",
    overallPassType: "Тип прохождения",
    overallPassValue: "Значение",
    webhookUrl: "URL вебхука (опционально)",
    webhookUrlDescription: "URL для отправки результатов после завершения теста",
    feedback: "Обратная связь",
    feedbackPlaceholder: "Комментарий к тесту (показывается в результатах)",
    timeLimit: "Ограничение времени (минуты)",
    timeLimitPlaceholder: "Оставьте пустым для неограниченного времени",
    timeLimitDescription: "Если задано, тест будет автоматически завершён по истечении времени",
    maxAttempts: "Количество попыток",
    maxAttemptsPlaceholder: "Оставьте пустым для неограниченных попыток",
    maxAttemptsDescription: "Если задано, при достижении лимита тест будет недоступен",
    showCorrectAnswers: "Показывать правильные ответы",
    showCorrectAnswersDescription: "Показывать правильный ответ и обратную связь сразу после ответа на каждый вопрос",
    startPageContent: "Контент стартовой страницы",
    startPageContentPlaceholder: "Дополнительный текст для стартовой страницы теста...",
    startPageContentDescription: "Этот текст будет отображаться на стартовой странице перед началом теста",
    summary: "Сводка",
    totalQuestions: "всего вопросов",
    exportScorm: "Экспорт SCORM",
    exportSuccessful: "Экспорт успешен",
    scormDownloaded: "SCORM-пакет загружен.",
    exportFailed: "Ошибка экспорта",
    couldNotExport: "Не удалось экспортировать SCORM-пакет.",
    testCreated: "Тест создан",
    testCreatedDescription: "Тест успешно создан.",
    testUpdated: "Тест обновлён",
    testUpdatedDescription: "Тест успешно обновлён.",
    testDeleted: "Тест удалён",
    testDeletedDescription: "Тест успешно удалён.",
    confirmDelete: "Вы уверены, что хотите удалить этот тест?",
    failedToCreate: "Не удалось создать тест.",
    failedToUpdate: "Не удалось обновить тест.",
    failedToDelete: "Не удалось удалить тест.",
    titleRequired: "Название обязательно",
    pass: "Проходной:",
    nextConfigure: "Далее: Настройка",
    nextFinalize: "Далее: Завершение",
    
    // Adaptive mode
    testMode: "Режим тестирования",
    standardMode: "Обычный",
    adaptiveMode: "Адаптивный",
    standardModeDescription: "Фиксированный набор вопросов из выбранных тем",
    adaptiveModeDescription: "Динамическая сложность на основе ответов пользователя",
    configureAdaptiveLevels: "Настройка уровней сложности",
    configureAdaptiveLevelsDescription: "Задайте уровни сложности и параметры адаптивного тестирования для каждой темы",
    showDifficultyToUser: "Показывать уровень пользователю",
    questionsTotal: "вопросов",
    loadingDistribution: "Загрузка распределения...",
    difficultyDistribution: "Распределение сложности",
    loadDistribution: "Загрузить распределение",
    difficultyLevels: "Уровни сложности",
    addLevel: "Добавить уровень",
    levelName: "Название уровня",
    minDifficulty: "Мин. сложность",
    maxDifficulty: "Макс. сложность",
    questionsCount: "Вопросов",
    passThreshold: "Порог прохождения",
    levelFeedback: "Обратная связь для уровня",
    levelFeedbackPlaceholder: "Текст, который увидит пользователь при достижении этого уровня...",
    levelLinks: "Ссылки на материалы",
    addLink: "Добавить ссылку",
    linkTitle: "Название ссылки",
    linkUrl: "URL",
    failureFeedback: "Обратная связь при провале всех уровней",
    failureFeedbackPlaceholder: "Текст, который увидит пользователь, если не сможет пройти ни один уровень...",
  },

  analytics: {
    title: "Аналитика",
    description: "Обзор эффективности тестов и статистика по темам.",
    loading: "Загрузка аналитики...",
    totalTests: "Всего тестов",
    totalAttempts: "Всего попыток",
    overallPassRate: "Общий % прохождения",
    avgScore: "Средний балл",
    attemptTrends: "Тренды попыток",
    testPerformance: "Эффективность тестов",
    topicStatistics: "Статистика по темам",
    mostFailedTopics: "Темы с наибольшим % ошибок",
    noData: "Нет данных",
    noAttempts: "Нет попыток для отображения.",
    attempts: "Попыток",
    passRate: "% прохождения",
    date: "Дата",
    noPassRule: "нет правила",
  },

  history: {
    title: "История попыток",
    description: "Просматривайте ваши прошлые попытки и отслеживайте прогресс",
    loading: "Загрузка истории...",
    noHistory: "Вы ещё не завершили ни одного теста.",
    browseTests: "Выбрать тест",
    attempts: "попыток",
    attempt: "попытка",
    currentVersion: "Текущая версия:",
    outdated: "Устаревший",
    viewResult: "Просмотр",
    improvement: "Улучшение",
  },

  learnerTests: {
    title: "Доступные тесты",
    description: "Выберите тест для прохождения.",
    loading: "Загрузка тестов...",
    noTests: "Доступных тестов пока нет.",
    startTest: "Начать тест",
    questions: "вопросов",
    topics: "тем",
    passRequired: "Для прохождения:",
  },

  takeTest: {
    question: "Вопрос",
    of: "из",
    previous: "Назад",
    next: "Далее",
    submit: "Завершить тест",
    submitting: "Отправка...",
    confirmSubmit: "Вы уверены, что хотите завершить тест? Это действие нельзя отменить.",
    selectAnswer: "Выберите ответ",
    selectAnswers: "Выберите один или несколько ответов",
    matchItems: "Сопоставьте элементы",
    rankItems: "Расположите в правильном порядке (перетаскивайте)",
    dragToReorder: "Перетащите для изменения порядка",
    submissionFailed: "Ошибка отправки",
    couldNotSubmit: "Не удалось отправить ответы.",
    noQuestionsError: "Тест не содержит вопросов.",
  },

  result: {
    title: "Результаты теста",
    loading: "Загрузка результатов...",
    overallResult: "Общий результат",
    passed: "Пройден",
    failed: "Не пройден",
    score: "Баллы",
    percentage: "Процент",
    topicBreakdown: "Результаты по темам",
    recommendedCourses: "Рекомендуемые курсы",
    coursesDescription: "Изучите эти материалы для улучшения знаний по темам, которые требуют внимания.",
    backToTests: "К списку тестов",
    viewDetails: "Подробнее",
    correct: "правильно",
    incorrect: "неправильно",
    partialCredit: "частично",
    yourAnswer: "Ваш ответ",
    correctAnswer: "Правильный ответ",
    noPassRule: "Нет правила прохождения",
  },

  validation: {
    required: "Обязательное поле",
    invalidUrl: "Некорректный URL",
    minValue: "Значение должно быть не менее",
    maxValue: "Значение должно быть не более",
  },
};

export function pluralize(count: number, one: string, few: string, many: string): string {
  const mod10 = count % 10;
  const mod100 = count % 100;
  
  if (mod10 === 1 && mod100 !== 11) {
    return one;
  } else if (mod10 >= 2 && mod10 <= 4 && (mod100 < 10 || mod100 >= 20)) {
    return few;
  } else {
    return many;
  }
}

export function formatPoints(count: number): string {
  return `${count} ${pluralize(count, "балл", "балла", "баллов")}`;
}

export function formatQuestions(count: number): string {
  return `${count} ${pluralize(count, "вопрос", "вопроса", "вопросов")}`;
}

export function formatAttempts(count: number): string {
  return `${count} ${pluralize(count, "попытка", "попытки", "попыток")}`;
}

export function formatTopics(count: number): string {
  return `${count} ${pluralize(count, "тема", "темы", "тем")}`;
}
